(title "fail <bool>")

(expect:eq
    "test"
    (shield:validate "test" (shield:ruleset __inline__ fail false ))
    "fail false"
)

(expect:error
    "@messages.fail"
    (fn (shield:validate 4 (shield:ruleset __inline__ fail true )))
    "fail true"
)

(expect:error
    "@messages.error-message"
    (fn (shield:validate 4 (shield:ruleset __inline__ fail:@error-message true )))
    "fail with custom error"
)

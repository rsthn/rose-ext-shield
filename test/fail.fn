(title "fail <bool>")

(expect:eq
    "test"
    (shield:validate "test" (shield:model (rules fail false )))
    "fail false"
)

(expect:error
    "@messages.fail"
    (fn (shield:validate 4 (shield:model (rules fail true ))))
    "fail true"
)

(expect:error
    "@messages.error-message"
    (fn (shield:validate 4 (shield:model (rules fail:@error-message true ))))
    "fail with custom error"
)

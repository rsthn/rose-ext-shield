(title "not-matches <string>")

(expect:error
    "\(not-matches\) reference expected to be regex string"
    (fn (shield:validate null (shield:ruleset __inline__ not-matches true )))
    "not-matches invalid reference type"
)

(expect:eq
    "hello Nice world"
    (shield:validate "hello Nice world" (shield:ruleset __inline__ not-matches "/good/i" ))
    "not-matches passes"
)

(expect:error
    "@messages.not-matches"
    (fn (shield:validate "hello world" (shield:ruleset __inline__ not-matches "/hello/" )))
    "not-matches fails"
)
